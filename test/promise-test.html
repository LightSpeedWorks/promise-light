<!DOCTYPE html>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge, Chrome=1">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-Control" content="no-cache">
<meta http-equiv="Expires" content="Thu, 01 Dec 1994 16:00:00 GMT">

<script>
this.$debug = true;
</script>
<script src="../lib/print.js"></script>
<script src="../promise-light.js"></script>
<script src="../lib/assert.js"></script>
<script src="../lib/describe-it.js"></script>
<script>
this.bluebird = null;
this.require = function require() { return null; };
this.console = this.console || $print;
var c = this.$print || this.console;
c('$print');
c.log('console.log');
c.info('console.info');
c.warn('console.warn');
c.error('console.error');
var a = [];
a.push('a');
a.push('b');
a.push('c');
c.log(a);
c.log(a.shift());
describe('describe1', function () {
  it('it1', function () {
    var p = new PromiseLight(function (res, rej) {
      res('ok');
    });
    c.info('describe1 - it1 - 1 - ' + p);
    p = p.then(
      function (v) { c.info('it1 ok? ' + v); return 'ok1'; },
      function (e) { c.error('it1 err? ' + e); return 'err1'; });
    c.info('describe1 - it1 - 2 - ' + p);
    return p;
  });
  it('it2', function () {
    var p = PromiseLight.resolve('ok');
    c.info('describe1 - it2 - 1 - ' + p);
    p = p.then(
      function (v) { c.info('it2 ok? ' + v); return 'ok2'; },
      function (e) { c.error('it2 err? ' + e); return 'err2'; });
    c.info('describe1 - it2 - 2 - ' + p);
    return p;
  });
});
</script>
<script src="promise-test.js"></script>
